---
import "../styles/global.css";
---

<style>
  #navlist {
    @apply fixed -right-full top-24 z-50 flex h-screen w-full flex-col gap-[2em] bg-white bg-cover px-[2em] pt-8 text-right dark:bg-black;

    li {
      .navlink {
        color: var(--subheader);
        font-size: var(--font-size-fluid-1);
        font-weight: var(--font-weight-6);
        text-decoration: none;
      }
    }
  }
  #navlist.active {
    right: 0;
  }

  #hamburger {
    border: none;
    display: block;
    display: flex;
    flex-flow: column wrap;
    gap: 0.35rem;
    padding: 0;
  }

  .bar {
    @apply block h-[.15rem] w-6 bg-zinc-500;
    transition: all var(--transition-200ms);
    -webkit-transition: all var(--transition-200ms);
  }

  #hamburger.active .bar:nth-child(2) {
    opacity: 0;
  }

  #hamburger.active .bar:nth-child(1) {
    transform: translateY(0.5rem) rotate(45deg);
  }

  #hamburger.active .bar:nth-child(3) {
    transform: translateY(-0.5rem) rotate(-45deg);
  }
</style>

<nav id="header-nav">
  <a
    href="/"
    class="mr-auto text-xl font-bold lowercase text-zinc-900 hover:text-emerald-600 hover:no-underline dark:text-zinc-50 dark:hover:text-emerald-400 md:text-4xl"
    >Ryan Furrer</a
  >
  <ul id="navlist" class="flex gap-[1em]">
    <li>
      <a
        href="/"
        class="navlink lowercase text-zinc-500 hover:text-emerald-600 hover:no-underline dark:hover:text-emerald-400"
        >Home</a
      >
    </li>
    <li>
      <a
        href="/projects"
        class="navlink lowercase text-zinc-500 hover:text-emerald-600 hover:no-underline dark:hover:text-emerald-400"
        >Projects</a
      >
    </li>
    <li>
      <a
        href="/blog"
        class="navlink lowercase text-zinc-500 hover:text-emerald-600 hover:no-underline dark:hover:text-emerald-400"
        >Blog</a
      >
    </li>
    <li>
      <a
        href="/about"
        class="navlink lowercase text-zinc-500 hover:text-emerald-600 hover:no-underline dark:hover:text-emerald-400"
        >About</a
      >
    </li>
  </ul>
  <button id="hamburger" name="Mobile Menu" aria-label="Mobile Menu">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>
</nav>

<script>
  function mobileMenu() {
    const hamburger = document.querySelector("#hamburger");
    const navList = document.querySelector("#navlist");

    hamburger.addEventListener("click", () => {
      hamburger.classList.toggle("active");
      navList.classList.toggle("active");
    });
  }

  function closeMenu() {
    const hamburger = document.querySelector("#hamburger");
    const navList = document.querySelector("#navlist");
    const navLink = document.querySelectorAll(".navlink");

    navLink.forEach((n) =>
      n.addEventListener("click", () => {
        hamburger.classList.remove("active");
        navList.classList.remove("active");
      }),
    );
  }

  closeMenu();
  mobileMenu();
</script>
